import{S as j,i as k,s as J,_ as O,v as p,w as g,x as $,p as b,n as v,A as y,e as x,t as _,c as C,a as D,g as u,d as f,f as m,F as q,h as d,j as A,k as S,l as B,$ as E,a0 as F}from"../../../chunks/vendor-ec71dcdf.js";function w(i,t,n){const e=i.slice();return e[4]=t[n],e}function N(i){let t,n=JSON.stringify(i[4])+"",e;return{c(){t=x("div"),e=_(n)},l(a){t=C(a,"DIV",{});var c=D(t);e=u(c,n),c.forEach(f)},m(a,c){m(a,t,c),q(t,e)},p(a,c){c&2&&n!==(n=JSON.stringify(a[4])+"")&&d(e,n)},d(a){a&&f(t)}}}function I(i){let t=JSON.stringify(i[2])+"",n,e,a,c=i[1],l=[];for(let s=0;s<c.length;s+=1)l[s]=N(w(i,c,s));return{c(){n=_(t),e=A();for(let s=0;s<l.length;s+=1)l[s].c();a=S()},l(s){n=u(s,t),e=B(s);for(let o=0;o<l.length;o+=1)l[o].l(s);a=S()},m(s,o){m(s,n,o),m(s,e,o);for(let r=0;r<l.length;r+=1)l[r].m(s,o);m(s,a,o)},p(s,o){if(o&4&&t!==(t=JSON.stringify(s[2])+"")&&d(n,t),o&2){c=s[1];let r;for(r=0;r<c.length;r+=1){const h=w(s,c,r);l[r]?l[r].p(h,o):(l[r]=N(h),l[r].c(),l[r].m(a.parentNode,a))}for(;r<l.length;r+=1)l[r].d(1);l.length=c.length}},d(s){s&&f(n),s&&f(e),E(l,s),s&&f(a)}}}function T(i){let t,n;return{c(){t=_("data of "),n=_(i[0])},l(e){t=u(e,"data of "),n=u(e,i[0])},m(e,a){m(e,t,a),m(e,n,a)},p(e,a){a&1&&d(n,e[0])},d(e){e&&f(t),e&&f(n)}}}function U(i){let t,n;return t=new F({props:{slot:"title",$$slots:{default:[T]},$$scope:{ctx:i}}}),{c(){p(t.$$.fragment)},l(e){g(t.$$.fragment,e)},m(e,a){$(t,e,a),n=!0},p(e,a){const c={};a&129&&(c.$$scope={dirty:a,ctx:e}),t.$set(c)},i(e){n||(b(t.$$.fragment,e),n=!0)},o(e){v(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}function V(i){let t,n;return t=new O({props:{compact:!0,$$slots:{title:[U],default:[I]},$$scope:{ctx:i}}}),{c(){p(t.$$.fragment)},l(e){g(t.$$.fragment,e)},m(e,a){$(t,e,a),n=!0},p(e,[a]){const c={};a&135&&(c.$$scope={dirty:a,ctx:e}),t.$set(c)},i(e){n||(b(t.$$.fragment,e),n=!0)},o(e){v(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}async function H({fetch:i,page:t,session:n,stuff:e}){const{app:a,table:c}=t.params,l=await i(`/api/${a}/${c}`).then(o=>o.json()),s=(await i(`/api/${a}`).then(o=>o.json())).schema;return console.log(l),{props:{tables:l,table_name:c,schema:s},status:200}}function z(i,t,n){let{table_name:e}=t,{tables:a}=t,{schema:c}=t;return i.$$set=l=>{"table_name"in l&&n(0,e=l.table_name),"tables"in l&&n(1,a=l.tables),"schema"in l&&n(2,c=l.schema)},[e,a,c]}class K extends j{constructor(t){super();k(this,t,z,V,J,{table_name:0,tables:1,schema:2})}}export{K as default,H as load};
