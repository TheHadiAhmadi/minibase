function c(n,o={}){const t=Object.assign({class:"codejar-linenumbers",wrapClass:"codejar-wrap",width:"35px",backgroundColor:"rgba(128, 128, 128, 0.15)",color:""},o);let l;return function(e){n(e),l||(l=d(e,t),e.addEventListener("scroll",()=>l.style.top=`-${e.scrollTop}px`));const r=(e.textContent||"").replace(/\n+$/,`
`).split(`
`).length+1;let a="";for(let i=1;i<r;i++)a+=`${i}
`;l.innerText=a}}function d(n,o){const t=getComputedStyle(n),l=document.createElement("div");l.className=o.wrapClass,l.style.position="relative";const e=document.createElement("div");e.className=o.class,l.appendChild(e),e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.bottom="0px",e.style.width=o.width,e.style.overflow="hidden",e.style.backgroundColor=o.backgroundColor,e.style.color=o.color||t.color,e.style.setProperty("mix-blend-mode","difference"),e.style.fontFamily=t.fontFamily,e.style.fontSize=t.fontSize,e.style.lineHeight=t.lineHeight,e.style.paddingTop=t.paddingTop,e.style.paddingLeft=t.paddingLeft,e.style.borderTopLeftRadius=t.borderTopLeftRadius,e.style.borderBottomLeftRadius=t.borderBottomLeftRadius;const s=document.createElement("div");return s.style.position="relative",s.style.top="0px",e.appendChild(s),n.style.paddingLeft=`calc(${o.width} + ${e.style.paddingLeft})`,n.style.whiteSpace="pre",n.parentNode.insertBefore(l,n),l.appendChild(n),s}export{c as withLineNumbers};
