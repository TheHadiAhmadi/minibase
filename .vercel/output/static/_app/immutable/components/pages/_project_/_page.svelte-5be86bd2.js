import{S as P,i as U,s as F,k as N,l as A,m as I,h as i,n as y,b as k,Y as R,O as H,A as M,a6 as q,X as z,_ as K,v as m,w as _,x as d,f as u,t as $,y as g,B as W,C as Y,D as J,E as V,q as D,r as C,M as T,g as X,d as Q,u as Z,$ as ee,a2 as te,a as S,c as B,a3 as re}from"../../../chunks/index-5e43de0b.js";import{a as ne,B as G}from"../../../chunks/api-3bbbb124.js";import{B as oe}from"../../../chunks/ButtonGroup-eeb94945.js";import{C as se}from"../../../chunks/CardActions-89341884.js";import{C as ae}from"../../../chunks/CardFooter-a1c4ec25.js";import{c as le,f as fe,I as L}from"../../../chunks/compiler-1d3b934d.js";import"../../../chunks/preload-helper-aa6bc0ce.js";import{D as ce,a as ie}from"../../../chunks/DialogContent-d589d2b5.js";import{D as ue,a as $e}from"../../../chunks/DialogTitle-85b11c19.js";import{g as pe}from"../../../chunks/navigation-a1edae7f.js";import{C as me}from"../../../chunks/CardBody-30c30190.js";function _e(s){let t,r,e;return{c(){t=N("button"),this.h()},l(o){t=A(o,"BUTTON",{type:!0,class:!0,"aria-label":!0}),I(t).forEach(i),this.h()},h(){y(t,"type","button"),y(t,"class",le("dialog-close")),y(t,"aria-label","Close")},m(o,n){k(o,t,n),r||(e=[R(s[0].call(null,t)),H(t,"click",s[2])],r=!0)},p:M,i:M,o:M,d(o){o&&i(t),r=!1,q(e)}}}function de(s){const t=fe(z()),r=K("DIALOG");return[t,r,()=>r.hide(!0)]}class ge extends P{constructor(t){super(),U(this,t,de,_e,F,{})}}function be(s){let t;const r=s[0].default,e=W(r,s,s[1],null);return{c(){e&&e.c()},l(o){e&&e.l(o)},m(o,n){e&&e.m(o,n),t=!0},p(o,n){e&&e.p&&(!t||n&2)&&Y(e,r,o,o[1],t?V(r,o[1],n,null):J(o[1]),null)},i(o){t||(u(e,o),t=!0)},o(o){$(e,o),t=!1},d(o){e&&e.d(o)}}}function he(s){let t,r;return t=new me({props:{class:"h-100px overflow-auto flex-1 flex flex-col",$$slots:{default:[be]},$$scope:{ctx:s}}}),{c(){m(t.$$.fragment)},l(e){_(t.$$.fragment,e)},m(e,o){d(t,e,o),r=!0},p(e,[o]){const n={};o&2&&(n.$$scope={dirty:o,ctx:e}),t.$set(n)},i(e){r||(u(t.$$.fragment,e),r=!0)},o(e){$(t.$$.fragment,e),r=!1},d(e){g(t,e)}}}function ke(s,t,r){let{$$slots:e={},$$scope:o}=t;return s.$$set=n=>{"$$scope"in n&&r(1,o=n.$$scope)},[e,o]}class we extends P{constructor(t){super(),U(this,t,ke,he,F,{})}}function je(s){let t,r;return t=new L({props:{pack:"bi",name:"clipboard-check"}}),{c(){m(t.$$.fragment)},l(e){_(t.$$.fragment,e)},m(e,o){d(t,e,o),r=!0},i(e){r||(u(t.$$.fragment,e),r=!0)},o(e){$(t.$$.fragment,e),r=!1},d(e){g(t,e)}}}function De(s){let t,r;return t=new L({props:{pack:"bi",name:"clipboard"}}),{c(){m(t.$$.fragment)},l(e){_(t.$$.fragment,e)},m(e,o){d(t,e,o),r=!0},i(e){r||(u(t.$$.fragment,e),r=!0)},o(e){$(t.$$.fragment,e),r=!1},d(e){g(t,e)}}}function Ce(s){let t,r,e,o,n,l,a,c,b,f,p,O;const v=[De,je],w=[];function x(h,j){return h[0]?1:0}return n=x(s),l=w[n]=v[n](s),{c(){t=N("pre"),r=D("    "),e=N("button"),o=D(`
        `),l.c(),a=D(`
    `),c=D(`
    `),b=D(s[1]),this.h()},l(h){t=A(h,"PRE",{class:!0});var j=I(t);r=C(j,"    "),e=A(j,"BUTTON",{class:!0});var E=I(e);o=C(E,`
        `),l.l(E),a=C(E,`
    `),E.forEach(i),c=C(j,`
    `),b=C(j,s[1]),j.forEach(i),this.h()},h(){y(e,"class","absolute border border-gray-300 w-12 h-12 top-2 right-2 flex items-center justify-center"),y(t,"class","relative")},m(h,j){k(h,t,j),T(t,r),T(t,e),T(e,o),w[n].m(e,null),T(e,a),T(t,c),T(t,b),f=!0,p||(O=H(e,"click",s[2]),p=!0)},p(h,[j]){let E=n;n=x(h),n!==E&&(X(),$(w[E],1,1,()=>{w[E]=null}),Q(),l=w[n],l||(l=w[n]=v[n](h),l.c()),u(l,1),l.m(e,a)),(!f||j&2)&&Z(b,h[1])},i(h){f||(u(l),f=!0)},o(h){$(l),f=!1},d(h){h&&i(t),w[n].d(),p=!1,O()}}}function Ee(s,t,r){let e,o,{project:n}=t,l=!1;function a(){navigator.clipboard.writeText(o),r(0,l=!0),setTimeout(()=>r(0,l=!1),3e3)}return s.$$set=c=>{"project"in c&&r(3,n=c.project)},s.$$.update=()=>{var c;s.$$.dirty&8&&r(4,e=((c=n.functions)!=null?c:[]).map(b=>`        ${b.name}: (data) => run("${b.name}", data)`).join(`,
`)),s.$$.dirty&24&&r(1,o=`/* DO NOT EDIT MANUALLY, GET IT FROM MINIBASE DASHBOARD */  
  const minibase = (appName) => {
    let token = "";

    async function run(functionName, data = {}) {
        const baseUrl = "https://" + appName + ".theminibase.com/";
        const opts = {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                Authorization: "bearer " + token,
            },
            body: JSON.stringify(data),
        };

        const res = await fetch(baseUrl + functionName, opts);
        const result = await res.json();

        if (result.error) throw new Error(result.error);

        return result.data;
    }

    return {
        setToken(value) {
            token = value;
        },
        getToken() {
            return token;
        },
${e}
    };
};

export default minibase("${n.name}");
`)},[l,o,a,n,e]}class Te extends P{constructor(t){super(),U(this,t,Ee,Ce,F,{project:3})}}function ye(s){let t,r,e,o;return{c(){t=N("h1"),r=D("Welcome to Dashboard"),e=S(),o=N("div"),this.h()},l(n){t=A(n,"H1",{});var l=I(t);r=C(l,"Welcome to Dashboard"),l.forEach(i),e=B(n),o=A(n,"DIV",{class:!0}),I(o).forEach(i),this.h()},h(){y(o,"class","h-200px")},m(n,l){k(n,t,l),T(t,r),k(n,e,l),k(n,o,l)},p:M,d(n){n&&i(t),n&&i(e),n&&i(o)}}}function Se(s){let t;return{c(){t=D("Show SDK File")},l(r){t=C(r,"Show SDK File")},m(r,e){k(r,t,e)},d(r){r&&i(t)}}}function Be(s){let t;return{c(){t=D("Exit from Project")},l(r){t=C(r,"Exit from Project")},m(r,e){k(r,t,e)},d(r){r&&i(t)}}}function Oe(s){let t,r,e,o;return t=new G({props:{color:"primary",$$slots:{default:[Se]},$$scope:{ctx:s}}}),t.$on("click",s[3]),e=new G({props:{color:"danger",class:"w-min ms-auto",$$slots:{default:[Be]},$$scope:{ctx:s}}}),e.$on("click",s[2]),{c(){m(t.$$.fragment),r=S(),m(e.$$.fragment)},l(n){_(t.$$.fragment,n),r=B(n),_(e.$$.fragment,n)},m(n,l){d(t,n,l),k(n,r,l),d(e,n,l),o=!0},p(n,l){const a={};l&32&&(a.$$scope={dirty:l,ctx:n}),t.$set(a);const c={};l&32&&(c.$$scope={dirty:l,ctx:n}),e.$set(c)},i(n){o||(u(t.$$.fragment,n),u(e.$$.fragment,n),o=!0)},o(n){$(t.$$.fragment,n),$(e.$$.fragment,n),o=!1},d(n){g(t,n),n&&i(r),g(e,n)}}}function ve(s){let t,r;return t=new oe({props:{$$slots:{default:[Oe]},$$scope:{ctx:s}}}),{c(){m(t.$$.fragment)},l(e){_(t.$$.fragment,e)},m(e,o){d(t,e,o),r=!0},p(e,o){const n={};o&34&&(n.$$scope={dirty:o,ctx:e}),t.$set(n)},i(e){r||(u(t.$$.fragment,e),r=!0)},o(e){$(t.$$.fragment,e),r=!1},d(e){g(t,e)}}}function Ne(s){let t,r;return t=new se({props:{$$slots:{default:[ve]},$$scope:{ctx:s}}}),{c(){m(t.$$.fragment)},l(e){_(t.$$.fragment,e)},m(e,o){d(t,e,o),r=!0},p(e,o){const n={};o&34&&(n.$$scope={dirty:o,ctx:e}),t.$set(n)},i(e){r||(u(t.$$.fragment,e),r=!0)},o(e){$(t.$$.fragment,e),r=!1},d(e){g(t,e)}}}function Ae(s){let t;return{c(){t=D("store this file as minibase.js in your project")},l(r){t=C(r,"store this file as minibase.js in your project")},m(r,e){k(r,t,e)},d(r){r&&i(t)}}}function Ie(s){let t,r;return t=new $e({props:{$$slots:{default:[Ae]},$$scope:{ctx:s}}}),{c(){m(t.$$.fragment)},l(e){_(t.$$.fragment,e)},m(e,o){d(t,e,o),r=!0},p(e,o){const n={};o&32&&(n.$$scope={dirty:o,ctx:e}),t.$set(n)},i(e){r||(u(t.$$.fragment,e),r=!0)},o(e){$(t.$$.fragment,e),r=!1},d(e){g(t,e)}}}function Me(s){let t,r,e,o,n,l;return t=new ue({props:{$$slots:{default:[Ie]},$$scope:{ctx:s}}}),e=new Te({props:{project:s[0].project}}),n=new ge({}),{c(){m(t.$$.fragment),r=S(),m(e.$$.fragment),o=S(),m(n.$$.fragment)},l(a){_(t.$$.fragment,a),r=B(a),_(e.$$.fragment,a),o=B(a),_(n.$$.fragment,a)},m(a,c){d(t,a,c),k(a,r,c),d(e,a,c),k(a,o,c),d(n,a,c),l=!0},p(a,c){const b={};c&32&&(b.$$scope={dirty:c,ctx:a}),t.$set(b);const f={};c&1&&(f.project=a[0].project),e.$set(f)},i(a){l||(u(t.$$.fragment,a),u(e.$$.fragment,a),u(n.$$.fragment,a),l=!0)},o(a){$(t.$$.fragment,a),$(e.$$.fragment,a),$(n.$$.fragment,a),l=!1},d(a){g(t,a),a&&i(r),g(e,a),a&&i(o),g(n,a)}}}function Pe(s){let t,r;return t=new ie({props:{$$slots:{default:[Me]},$$scope:{ctx:s}}}),{c(){m(t.$$.fragment)},l(e){_(t.$$.fragment,e)},m(e,o){d(t,e,o),r=!0},p(e,o){const n={};o&33&&(n.$$scope={dirty:o,ctx:e}),t.$set(n)},i(e){r||(u(t.$$.fragment,e),r=!0)},o(e){$(t.$$.fragment,e),r=!1},d(e){g(t,e)}}}function Ue(s){let t,r,e,o,n,l,a;t=new we({props:{$$slots:{default:[ye]},$$scope:{ctx:s}}}),e=new ae({props:{$$slots:{default:[Ne]},$$scope:{ctx:s}}});function c(f){s[4](f)}let b={placement:"center",persistent:!0,size:"lg",$$slots:{default:[Pe]},$$scope:{ctx:s}};return s[1]!==void 0&&(b.open=s[1]),n=new ce({props:b}),ee.push(()=>te(n,"open",c)),{c(){m(t.$$.fragment),r=S(),m(e.$$.fragment),o=S(),m(n.$$.fragment)},l(f){_(t.$$.fragment,f),r=B(f),_(e.$$.fragment,f),o=B(f),_(n.$$.fragment,f)},m(f,p){d(t,f,p),k(f,r,p),d(e,f,p),k(f,o,p),d(n,f,p),a=!0},p(f,[p]){const O={};p&32&&(O.$$scope={dirty:p,ctx:f}),t.$set(O);const v={};p&34&&(v.$$scope={dirty:p,ctx:f}),e.$set(v);const w={};p&33&&(w.$$scope={dirty:p,ctx:f}),!l&&p&2&&(l=!0,w.open=f[1],re(()=>l=!1)),n.$set(w)},i(f){a||(u(t.$$.fragment,f),u(e.$$.fragment,f),u(n.$$.fragment,f),a=!0)},o(f){$(t.$$.fragment,f),$(e.$$.fragment,f),$(n.$$.fragment,f),a=!1},d(f){g(t,f),f&&i(r),g(e,f),f&&i(o),g(n,f)}}}function Fe(s,t,r){let{data:e}=t;async function o(){await ne.setCookie(`${e.project.name}-apikey`,""),pe("/projects")}let n=!1;const l=()=>r(1,n=!0);function a(c){n=c,r(1,n)}return s.$$set=c=>{"data"in c&&r(0,e=c.data)},[e,n,o,l,a]}class Ve extends P{constructor(t){super(),U(this,t,Fe,Ue,F,{data:0})}}export{Ve as default};
